<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Changelog</title>
  <meta
    name="description"
    content="Changelog for the Kipper Language"
  />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <script src="./js/main.ts"></script>
  <link rel="manifest" href="../site.webmanifest" />
  <link rel="apple-touch-icon" href="./img/icon.png" />
  <link rel="shortcut icon" type="image/ico" href="../favicon.ico" />

  <link rel="stylesheet" href="./css/normalize.css" />
  <link rel="stylesheet" href="./css/main.css" />
  <link rel="stylesheet" href="./css/screen.css" />
  <link rel="stylesheet" href="./css/buttons.css" />
  <link rel="stylesheet" href="./css/nav-bar.css" />
  <link rel="stylesheet" href="./css/text.css" />
  <link rel="stylesheet" href="./css/lists.css" />
  <link rel="stylesheet" href="./css/footer.css" />
  <link rel="stylesheet" href="./css/table.css" />

  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/951ef1f046.js" crossorigin="anonymous"></script>

  <!-- Including stylesheet for the Inter-Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter" />

  <!-- Loading the prism highlighting style-sheet -->
  <link rel="stylesheet" href="./prism/prism.css" />

  <!--
  Specifying the preferred environment colour to be the primary scheme colour.
  See main.css for the --scheme-primary variable
  -->
  <meta name="theme-color" content="#e01a4f" />

</head>
<body>
<script src="./js/plugins.ts"></script>
<script src="./prism/prism.js"></script>

<!-- Show Error if JS is disabled or blocked -->
<noscript>Oops that shouldn't have happened! Please enable Java-Script to use our Site!</noscript>

<div id="main-frame">
  <div id="actual-content">
    <!-- The top element: menu and search bar -->
    <header class="page-header">
      <nav id="header-nav-bar">
        <ul>
          <li>
            <a href="./index.html"
               class="no-style-list flex-row flex-parent-container flex-center kipper-logo-container">
              <img id="kipper-logo" src="./img/base_head.png" alt="">
              <a class="underline-button" href="./index.html">
                <a class="underline-button" href="./index.html">
                  <h1>Kipper</h1>
                </a>
              </a>
            </a>
          </li>
          <li>
            <a href="./download.html" class="underline-button top-nav-menu-item top-nav-button"><h4>Downloads</h4></a>
          </li>
          <li>
            <a href="./docs/index.html" class="underline-button top-nav-menu-item top-nav-button"><h4>Docs</h4></a>
          </li>
          <li>
            <a href="playground.html" class="underline-button top-nav-menu-item top-nav-button"><h4>Playground</h4></a>
          </li>
          <li>
            <a href="./changelog.html"
               class="underline-button top-nav-menu-item top-nav-button selected-nav-page"><h4>
              Changelog</h4></a>
          </li>
        </ul>
        <div id="search-bar-wrapper">
          <ul>
            <li>
              <i id="search-icon" class="fa-solid fa-magnifying-glass"></i>
            </li>
            <li id="search-bar">
              <label for="search-bar-input"></label>
              <input id="search-bar-input" type="search" placeholder="Search..." spellcheck="false">
              <script src="./js/search-bar.ts"></script>
            </li>
          </ul>
        </div>
      </nav>
      <div id="header-description-content" class="text-page-content-container"></div>
      <script src="./js/gen-header.ts"></script>
    </header>
    <!-- Main Content, where the text is located and the items unique to this site are defined -->
    <div class="text-page-content-container">
      <div id="changelog-content" class="text-content shadowed-box">
        <section>
          <script src="./js/showdown.js"></script>
          <!-- Add generation script here -->
          <script>
            console.log("Loading Changelog...");
            let text = "";
            const url = "https://raw.githubusercontent.com/WMC-AHIF-2021/Kipper-Web/main/CHANGELOG.md"
            fetch(url)
              .then(response => response.text())
              .then(response => {
                //console.log(response);
                let text = "<pre><code>" + response.toString() + "</code></pre>";
                text = text.replace(/`/gi, "'");
                text = text.replace(/  /gi, " ");

                var converter = new showdown.Converter(),
                  md      = response.toString(),
                  HTMLtext      = converter.makeHtml(md);

                //document.getElementById('changelog-text').innerHTML = "<pre><code>" + response.toString() + "</code></pre>";
                document.getElementById('changelog-text').innerHTML = HTMLtext;
                //text = response.toString();
              })

            /*const response = await fetch("https://helloacm.com/api/markdown/", {
              method: 'POST',
              headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
              },
              body: `{
                `.$text
              }`,
                        });

            response.json().then(data => {
              console.log(data);
            });

              document.getElementById('changelog-text').innerHTML = HtmlCode;
          */
          </script>
          <style>
            #changelog-text li {
              float:left;
              width:260px;
              padding-left:20px;
              font-size:16px;
              color:#333;
              font-weight:bold;
              margin:5px 0;
              padding-bottom:1px;
            }
          </style>
          <div id="changelog">
            <br>
            <div id="changelog-tex></div>
            <br>
          </div>
        </section>
      </div>
    </div>
    <!-- Footer bar - contains some links and general copyright notice -->
    <footer id="footer-bar" class="flex-parent-container flex-column"></footer>
    <script src="./js/gen-footer.ts"></script>
  </div>
</div>
</body>
</html>
