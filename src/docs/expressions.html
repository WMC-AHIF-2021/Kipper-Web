<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Expressions</title>
		<meta
			name="description"
			content="Kipper Expressions, which can perform various operations and evaluate to a new value." />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<script type="module" src="../js/page-setup.ts"></script>
		<link rel="manifest" href="../../site.webmanifest" />
		<link rel="apple-touch-icon" href="../img/icon.png" />
		<link rel="shortcut icon" type="image/ico" href="../../favicon.ico" />

		<link rel="stylesheet" href="../css/normalize.css" />
		<link rel="stylesheet" href="../css/main.css" />
		<link rel="stylesheet" href="../css/screen.css" />
		<link rel="stylesheet" href="../css/buttons.css" />
		<link rel="stylesheet" href="../css/nav-bar.css" />
		<link rel="stylesheet" href="../css/text.css" />
		<link rel="stylesheet" href="../css/lists.css" />
		<link rel="stylesheet" href="../css/footer.css" />
		<link rel="stylesheet" href="../css/docs.css" />
		<link rel="stylesheet" href="../css/table.css" />

		<!-- Font Awesome Icons -->
		<script src="https://kit.fontawesome.com/951ef1f046.js" crossorigin="anonymous"></script>

		<!-- Including stylesheet for the Inter-Font -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter" />

		<link rel="stylesheet" href="../prism/prism.css" />
		<!--
Specifying the preferred environment colour to be the primary scheme colour.
See main.css for the --scheme-primary variable
-->
		<meta name="theme-color" content="#e01a4f" />
	</head>
	<body>
		<script src="../js/plugins.ts"></script>
		<script src="../prism/prism.js"></script>

		<div id="main-frame">
			<div id="actual-content">
				<!-- The top element: menu and search bar -->
				<header id="home-page-header" class="page-header"></header>
				<script type="module">
					import { GenHeaderNavbar } from "../js/gen-header";

					document.getElementById("home-page-header").innerHTML = GenHeaderNavbar();
				</script>

				<!-- Main Content, where the text is located and the items unique to this site are defined -->
				<div class="flex-parent-container flex-fill-to-parent">
					<ul class="no-style-list flex-parent-container flex-fill-to-parent flex-row">
						<li id="docs-sidebar-nav-wrapper" class="flex-parent-container"></li>
						<script type="module" src="../js/gen-sidebar-docs-nav.ts"></script>
						<li class="docs-page-content-container">
							<div id="docs-content" class="shadowed-box">
								<section>
									<nav id="docs-page-nav"></nav>
									<article>
										<div class="docs-page-description">
											<h1>Expressions</h1>
											<p>
												Expressions form the basis of Kipper, as every operation you do is made up of single expressions
												that perform certain actions, like reading a value, calculating something, calling a function,
												comparing values and a lot more...!
											</p>
											<p>A simple example for expressions can be a simple calculation, like this:</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">val1 + val2 * val3 // Mathematical/Arithmetic expression</code></pre>
											<p>
												Notice how in this case we are not assigning the result to anything? This is an important fact
												of expressions that they are usually independent and do a single task, meaning if we wanted to
												assign this result to a variable, we would have to use an assignment expression like this:
											</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">// Assign and arithmetic expression
var result = val1 + val2 * val3;</code></pre>
											<p>
												Though, in this case, we also now created a statement (ends in <code>;</code>), though these
												will be explained further in the docs section <a href="./statements.html">Statements</a>.
											</p>
										</div>
										<div class="docs-page-content">
											<h2>Kipper Operators and Expressions Precedence</h2>
											<p>
												The following table shows all valid operators and expressions in the Kipper language, with their
												respective precedence. The higher the precedence the higher the importance of the item, and the
												order of evaluation.
											</p>
											<table>
												<colgroup>
													<col />
													<col />
													<col />
													<col />
												</colgroup>
												<thead>
													<tr>
														<th>Precedence</th>
														<th>Operator / Expression</th>
														<th>Description</th>
														<th>Associativity</th>
													</tr>
												</thead>
												<tbody>
													<tr>
														<td>11</td>
														<td>++ / --<br />call ...( )<br />[ ]<br />( )<br />.</td>
														<td>
															Suffix/Postfix increment and decrement<br />Function Call<br />List subscripting and list
															initializer list<br />Tangled expression - Forced importance<br />Object member
															accessing<br />
														</td>
														<td>Left-To-Right</td>
													</tr>
													<tr>
														<td>10</td>
														<td>++ / --<br />+ / -<br />!<br />... as type</td>
														<td>
															Prefix increment and decrement<br />Unary plus and minus<br />Logical NOT<br />Type
															conversion
														</td>
														<td>Right-To-Left</td>
													</tr>
													<tr>
														<td>9</td>
														<td>* <br />/ <br />% <br />**</td>
														<td>Multiplication<br />Division<br />Rest of Division / Remainder<br />Power-To<br /></td>
														<td rowspan="6">Left-To-Right</td>
													</tr>
													<tr>
														<td>8</td>
														<td>+ / - <br /></td>
														<td>Addition and subtraction<br /></td>
													</tr>
													<tr>
														<td>7</td>
														<td>&lt; / &lt;=<br />&gt; / =&gt;<br /></td>
														<td>Relational operators (smaller-equal)<br />Relational operators (bigger-equal)<br /></td>
													</tr>
													<tr>
														<td>6</td>
														<td>== / !=<br /></td>
														<td>Relational comparison<br /></td>
													</tr>
													<tr>
														<td>5</td>
														<td>&amp;&amp; <br /></td>
														<td>Logical AND<br /></td>
													</tr>
													<tr>
														<td>4</td>
														<td>||</td>
														<td>Logical OR<br /></td>
													</tr>
													<tr>
														<td>3</td>
														<td>? :<br /></td>
														<td>Ternary conditional<br /></td>
														<td rowspan="2">Right-To-Left</td>
													</tr>
													<tr>
														<td>2</td>
														<td>=<br />+= / -=<br />*= <br />/=<br />%=</td>
														<td>
															Simple assignment<br />Increment or Decrement assignment<br />Multiplicative assignment<br />Divisional
															assignment<br />Rest of Division / Remainder assignment<br />
														</td>
													</tr>
													<tr>
														<td>1</td>
														<td>,</td>
														<td>Comma</td>
														<td>Left-To-Right</td>
													</tr>
												</tbody>
											</table>
											<h2>How does precedence of operators and expressions affect a program?</h2>
											<p>
												The order of precedence is a very vital concept in programming languages, as they define how
												expressions are going to be evaluated. This directly can affect how your code runs, as certain
												parts might be evaluated first before others and change the entire course of your program.
											</p>
											<p>
												A simple example of this are arithmetic expressions
												<code>+ - * / %</code>, which have per mathematical conventions their own order of precedence.
												For example, multiplication and division signs <b>always</b> come first before plus and minus,
												unless you explicitly use brackets, like these <code>( )</code>. The same can be done here in
												Kipper as well, where you can forcefully increase the order of precedence using brackets:
											</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">15 + 4 * 6 // -> 15 + (4 * 6) -> 15 + 24 -> 39</code></pre>
											<p>Forced higher precedence using brackets:</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">(15 + 4) * 6 // -> (15 + 4) * 6 -> 19 * 6 -> 114</code></pre>
											<h2>What does associativity mean?</h2>
											<p>
												As you should have already seen in the table above, there is an extra column defining the
												so-called associativity. What does that mean? It's relatively simple and means whether the
												following (<code>( )</code>
												meaning the expression is read first):
											</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">a OPR b OPR c</code></pre>
											<p>is evaluated as (left-associative - Reads from left to right):</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">(a OPR b) OPR c</code></pre>
											<p>or as (right-associative - reads from right to left):</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">a OPR (b OPR c)</code></pre>
											<p>
												This is especially important as it can change how certain things are evaluated, and also cause
												unwanted errors! For example the following would be interpreted as (left-associative):
											</p>
											<!-- prettier-ignore -->
											<pre><code class="language-typescript">32 / 4 / 4 // -> (8 / 4) -> 2</code></pre>
											<h2>List of expressions in the Kipper language</h2>
											<p>This is a concise list of all expressions in the Kipper language that may be used:</p>
											<ul class="bullet-list flex-column">
												<li>
													<h2>Arithmetic Expression</h2>
													<p>
														Arithmetic expressions are simple mathematical calculations, where a numeric result is
														returned after the expression was evaluated. They may also be chained based on their order
														of precedence, where each item is one by one evaluated.
													</p>
													<h4>Syntax</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">VALUE_1 ( + | - | * | / | ** | % ) VALUE_2</code></pre>
													<h4>Examples</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// Plus
400.3 + 26.3 // -> 426.6

// Minus
87 - 2.5 // -> 84.5

// Multiply
2.4 * 5 // -> 12

// Divide
25 / 4 // -> 6.25

// Power to
2 ** 8 // -> 256

// Rest of Divide
51 % 10 // -> 1</code></pre>
												</li>
												<li>
													<h2>Relational Expressions (Comparisons)</h2>
													<p>
														Relational expressions are comparative expressions that compare two other expressions/values
														with a specific operator. They evaluate to <code>true</code> if the condition of the
														operator is true, for example <code>&#60;</code> (less than) with <code>1 &#60; 5</code>,
														and evaluate to <code>false</code> if the condition is false, for example
														<code>&#62;</code> (greater than) with <code>1 &#62; 5</code>.
														<br />
														<br />
														Such expressions are essential for conditional expressions that are used in statements such
														as:
													</p>
													<ul>
														<li><a href="./decision-making.html">If-statements</a></li>
														<li><a href="./while-loop.html">While-loops</a></li>
														<li><a href="./while-loop.html">Do-while-loops</a></li>
														<li><a href="./for-loop.html">For-loops</a></li>
													</ul>
													<h4>Syntax</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">VALUE_1 ( == | != | > | >= | < | <= ) VALUE_2</code></pre>
													<h4>Examples</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// Equal to
20 == 20 // -> true
92 == 20 // -> false

// Not equal to
21 != 9  // -> true
21 != 21 // -> false

// Is greater than
20 > 5   // -> true
20 > 20  // -> false

// Is greater or equal to
11 >= 5  // -> true
20 >= 20 // -> true
32 >= 99 // -> false

// Is less than
10 < 78  // -> true
43 < 14  // -> false

// Is less or equal to
12 <= 29 // -> true
56 <= 56 // -> true
21 <= 13 // -> false</code></pre>
												</li>
												<li>
													<h2>Logical Expressions</h2>
													<p>
														Logical expressions combine two or more expressions/conditions and evaluate to a
														<code>bool</code> value (Either <code>true</code> or <code>false</code>) based on the
														specific operator used.
														<br />
														<br />
														The NOT operator (<code>!</code>) is also a logical operator, even though unlike the other
														operators it can be only used on a single expression, and can be used to invert the result
														of a logical expression.
													</p>
													<h4>Syntax</h4>
													For the logical <code>AND</code> and <code>OR</code>:
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">VALUE_1 ( && | || ) VALUE_2</code></pre>
													For the logical <code>NOT</code>:
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">!VALUE</code></pre>
													<h4>Examples</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// Logical AND - All must be true
true && true   // -> true
false && true  // -> false
true && false  // -> false
false && false // -> false

// Logical OR - One must be true
true || true   // -> true
false || true  // -> true
true || false  // -> true
false || false // -> false

// Logical NOT - Negate
!false         // -> true
!true          // -> false</code></pre>
													<p>Logical Expressions may be also chained together as long as you want. For example:</p>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// Chained Logical AND - All must be true
true && true && true     // -> true
true && false && true    // -> false

// Chained Logical OR - One must be true
true || true || true     // -> true
true || false || true    // -> true
false || false || false  // -> false</code></pre>
													<p>
														You can also combine relational expressions with logical expressions, like this for example:
													</p>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// ✓ Combined relational and logical expressions
3 == 4 && 3 != 4 || 2 != 22 && 3 == 3

// Following the order of precedence:
// -> (false && true) || (true && true)
// -> (false) || (true)
// -> true</code></pre>
												</li>
												<li>
													<h3>Conditional Expressions (Ternary conditional)</h3>
													<p>
														Conditional expressions are like
														<a href="decision-making.html">if-statements</a>
														with the major difference and advantage of being in-line and allowing evaluation of specific
														expressions based on a condition.
														<br />
														<br />
														If the <code>CONDITION</code> evaluates to <code>true</code>, the left side of the
														<code>:</code> operator is evaluated and returned, otherwise the right side is evaluated and
														returned.
													</p>
													<h4>Syntax</h4>
													<!-- prettier-ignore -->
													<pre><code
                        class="language-typescript">CONDITION ? EVALUATE_IF_TRUE : EVALUATE_IF_FALSE</code></pre>
													<h4>Examples</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// ✓ Simple evaluation of a number
true ? 3 : 2 // -> 3
false ? 3 : 2 // -> 2

// ✓ Simple evaluation of a number that will be assigned
var var1: num = 2;
var var2: num = 9;
var smallestOrEqual: num = var1 < var2 ? var1 : var2; // -> 2</code></pre>
													<p>As the ternary operator evaluates to more expressions, you can also chain it like this:</p>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// ✓ Valid - Chained if ... else-if ... else-if ... else ternary operator
val result: num = condition1 ? value1
         : condition2 ? value2
         : condition3 ? value3
         : value4;

// -> Equivalent to:
if (condition1) { var result = value1; }
else if (condition2) { var result = value2; }
else if (condition3) { var result = value3; }
else { var result = value4; }</code></pre>
												</li>
												<li>
													<h2>Convert Expression</h2>
													<p>
														Conversion expressions convert the value of an expression to a target type using pre-defined
														built-in conversion functions. Such conversions are essential for using values of different
														types in the same expression and avoiding type errors.
														<br />
														<br />
														An important example of this are <code>print</code> function call expressions, as the
														<code>print</code> function is a built-in function that only allows a string as a parameter.
														Therefore, to print out a number you first have to convert it to a string.
													</p>
													<h3>Syntax</h3>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">VALUE as TYPE</code></pre>
													<h3>Allowed conversions</h3>
													<ul class="bullet-list flex-column">
														<li>
															<h4>From <code>str</code> to <code>num</code></h4>
															<p>Converts a string to a number, if it meets the following requirements:</p>
															<ul class="bullet-list flex-column">
																<li>Only contains numeric characters (<code>0 - 9</code>)</li>
																<li>Is not empty (length > 0)</li>
															</ul>
															<p>
																Otherwise if the string does not meet the above requirements, it will return
																<code>NaN</code> (Not a number). In future releases, this will be a
																<code>ConversionError</code>.
															</p>
															<pre><code class="language-typescript">"203" as num // -> 203</code></pre>
														</li>
														<li>
															<h4>From <code>num</code> to <code>str</code></h4>
															<p>Converts a number to an identical string representation of the number.</p>
															<pre><code class="language-typescript">203 as str // -> "203"</code></pre>
														</li>
														<li>
															<h4>From <code>char</code> to <code>str</code></h4>
															<p>Converts a single character to a string.</p>
															<pre><code class="language-typescript">'c' as str // -> "c"</code></pre>
														</li>
														<li>
															<h4>From <code>num</code> to <code>bool</code></h4>
															<p>
																Converts a number to a bool. This evaluates to
																<code>true</code> if it's a non-zero value.
															</p>
															<pre><code class="language-typescript">20 as bool // -> true
0 as bool // -> false</code></pre>
														</li>
														<li>
															<h4>From <code>bool</code> to <code>num</code></h4>
															<p>
																Converts a bool to a number. This evaluates to
																<code>1</code> if it's <code>true</code>, otherwise it's <code>0</code>.
															</p>
															<pre><code class="language-typescript">true as num // -> 1
false as num // -> 0</code></pre>
														</li>
														<li>
															<h4>From <code>bool</code> to <code>str</code></h4>
															<p>
																Converts a string to a number. This evaluates to
																<code>"true"</code> if it's <code>true</code>, otherwise it's <code>"false"</code>.
															</p>
															<pre><code class="language-typescript">true as str // -> "true"
false as str // -> "false"</code></pre>
														</li>
													</ul>
												</li>
												<li>
													<h2>Function Call Expression</h2>
													<p>
														Function call expression are expressions that call and run a specified
														<a href="./functions.html">function</a> and evaluates to the return of the
														<a href="./functions.html">function</a>. In case that the return is not assigned to any
														variable or used in another expression, then it will be simply discarded.
														<br />
														<br />
														If the return type of the <a href="./functions.html">function</a> is <code>void</code>, then
														the function call expression will not return any value.
													</p>
													<h3>Syntax</h3>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">call FUNC(ARGS...)</code></pre>
													<h4>Examples</h4>
													<!-- prettier-ignore -->
													<pre><code class="language-typescript">// ✓ Calling a defined function
def func1() -> num { return 5; }
call func1(); // -> 5

// ✓ Calling a defined function and assigning it to a variable
def func2() -> num { return 10; }
var example1: num = call func2(); // -> 10

// ✓ Multiple function calls with the end-result being assigned to a variable
def func3() -> num { return 25; }
var example2: num = call func2() + call func2(); // -> 50

// ✓ Using the return of a function with a return type of void and assigning it to a variable
def func4() -> void {}
var example3: void = call func4(); // -> void

// X Can not use the return of a void function with any other expression
def func4() -> void {}
4 + call func5(); // -> Error: Invalid arithmetic operation between types 'num' and 'void'.</code></pre>
												</li>
											</ul>
										</div>
									</article>
									<script type="module" src="../js/gen-docs-nav-specifier.ts"></script>
								</section>
							</div>
						</li>
					</ul>
				</div>
				<!-- Footer bar - contains some links and general copyright notice -->
				<footer id="footer-bar" class="flex-parent-container flex-column"></footer>
				<script type="module" src="../js/gen-footer.ts"></script>
			</div>
		</div>

		<!-- Overlay for Displaying the Search Results-->
		<div id="search-background-overlay"></div>
		<div id="search-result-overlay">
			<div class="flex-column flex-parent-container" id="search-result"></div>
		</div>
		<script type="module" src="../js/search.ts"></script>
	</body>
</html>
