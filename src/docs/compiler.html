<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Kipper Compiler</title>
		<meta name="description" content="Information regarding the Kipper Compiler and code generation" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<script type="module" src="../js/page-setup.ts"></script>
		<link rel="manifest" href="../../site.webmanifest" />
		<link rel="apple-touch-icon" href="../img/icon.png" />
		<link rel="shortcut icon" type="image/ico" href="../../favicon.ico" />

		<link rel="stylesheet" href="../css/normalize.scss" />
		<link rel="stylesheet" href="../css/main.scss" />
		<link rel="stylesheet" href="../css/screen.scss" />
		<link rel="stylesheet" href="../css/buttons.scss" />
		<link rel="stylesheet" href="../css/nav-bar.scss" />
		<link rel="stylesheet" href="../css/text.scss" />
		<link rel="stylesheet" href="../css/lists.scss" />
		<link rel="stylesheet" href="../css/footer.scss" />
		<link rel="stylesheet" href="../css/docs.scss" />
		<link rel="stylesheet" href="../css/table.scss" />

		<!-- Font Awesome Icons -->
		<script src="https://kit.fontawesome.com/951ef1f046.js" crossorigin="anonymous"></script>

		<!-- Including stylesheet for the Inter-Font -->
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter" />

		<!-- Loading the prism highlighting style-sheet -->
		<link rel="stylesheet" href="../prism/prism.css" />

		<!--
Specifying the preferred environment colour to be the primary scheme colour.
See main.scss for the --scheme-primary variable
-->
		<meta name="theme-color" content="#e01a4f" />
	</head>
	<body>
		<script src="../js/plugins.ts"></script>
		<script src="../prism/prism.js"></script>

		<div id="main-frame">
			<div id="actual-content">
				<!-- The top element: menu and search bar -->
				<header id="home-page-header" class="page-header"></header>
				<script type="module">
					import { GenHeaderNavbar } from "../js/gen-header";

					document.getElementById("home-page-header").innerHTML = GenHeaderNavbar();
				</script>

				<!-- Main Content, where the text is located and the items unique to this site are defined -->
				<div class="flex-parent-container flex-fill-to-parent">
					<ul class="no-style-list flex-parent-container flex-fill-to-parent flex-row">
						<li id="docs-sidebar-nav-wrapper" class="flex-parent-container"></li>
						<script type="module" src="../js/gen-sidebar-docs-nav.ts"></script>
						<li class="docs-page-content-container">
							<div id="docs-content" class="shadowed-box">
								<section>
									<nav id="docs-page-nav"></nav>
									<article>
										<div class="docs-page-description">
											<h1>Kipper Compiler</h1>
											<p>
												The Kipper Compiler is a TypeScript-based compiler that can compile Kipper code into TypeScript
												and generate the required overhead for the Kipper program. (In the future, native JavaScript
												should be supported as well. See
												<a href="https://github.com/Luna-Klatzer/Kipper/issues/32">#32</a>
												for more information.)
											</p>
										</div>
										<div class="docs-page-content">
											<article>
												<h2>Kipper API</h2>
												<p>
													Kipper provides a TypeScript API for interacting with its compiler, which can be used to
													configure and inspect the compilation of a program. This API is per default shipped with the
													<code>@kipper/core</code> package and the <code>kipper-standalone.js</code> file.
												</p>
											</article>
											<article>
												<h2>Configuring the Kipper Compiler</h2>
												<p>
													Configuring <code>KipperCompile.compile()</code> can be done using the
													<code>CompileConfig</code> interface, which defines all available parameters for a
													compilation.
												</p>
												<h3>Kipper Compiler Parameters</h3>
												<table>
													<thead>
														<tr>
															<th>Parameter</th>
															<th>Type<br /></th>
															<th>Description</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>fileName</td>
															<td>string</td>
															<td>
																The name of the file. Per default
																<code>anonymous-script</code>.
															</td>
														</tr>
														<tr>
															<td>target</td>
															<td>KipperTarget</td>
															<td>
																The Kipper target instance, which defines the translation behaviour of the Kipper AST
																nodes. Per default <code>TypeScriptTarget</code>.
															</td>
														</tr>
														<tr>
															<td>optimisationOptions</td>
															<td>OptimisationOptions</td>
															<td>
																<p>The options for optimising the Kipper output.</p>
																<p>Defaults to an object with the following values:</p>
																<ul class="bullet-list">
																	<li><code>optimiseInternals: true</code></li>
																	<li><code>optimiseBuiltIns: false</code></li>
																</ul>
																<p>
																	More info down below in
																	<a href="#kipper-optimiser-parameters">Kipper Optimiser Parameters</a>.
																</p>
															</td>
														</tr>
														<tr>
															<td>extendBuiltIns</td>
															<td>Array&lt;BuiltInFunction&gt;</td>
															<td>
																Additional built-in functions that should be available in the Kipper program. This
																extends builtIns and is per default empty.<br />
															</td>
														</tr>
														<tr>
															<td>builtIns<br /></td>
															<td>Array&lt;BuiltInFunction&gt;</td>
															<td>
																Standard built-in functions that should be available in the Kipper program.
																<br /><br />If this is defined with new built-in functions that Kipper does not
																implement per default, the Kipper target class will have to be updated as well to
																implement the generation of these built-ins. <br /><br />Defaults to the function as
																listed in <a href="./built-in-functions.html">Built-in Functions</a>.<br />
															</td>
														</tr>
													</tbody>
												</table>
												<h3 id="kipper-optimiser-parameters">Kipper Optimiser Parameters</h3>
												<table>
													<thead>
														<tr>
															<th>Parameter</th>
															<th>Type</th>
															<th>Description</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>optimiseInternals</td>
															<td>boolean</td>
															<td>
																If set to true, the internal functions (functions generated by the Kipper compiler to
																provide specific functionality) of the compiled code will be optimised using
																tree-shaking reducing the size of the output. Defaults to
																<code>true</code>.
															</td>
														</tr>
														<tr>
															<td>optimiseBuiltIns</td>
															<td>boolean</td>
															<td>
																If set to true, the
																<a href="./built-in-functions.html">built-in functions</a>
																of the compiled code will be optimised using tree-shaking reducing the size of the
																output. Defaults to <code>false</code>.
															</td>
														</tr>
													</tbody>
												</table>
												<h3>Example configuration</h3>
												<pre><code class="language-typescript">import { KipperCompiler } from "@kipper/core";
import { TypeScriptTarget } from "@kipper/core/lib/targets/typescript";

const compiler = new KipperCompiler();
const result = compiler.compile(
  kipperCode, // A string or a KipperParseStream containing the source code
  {
    fileName: "myProgram.kip",
    target: new TypeScriptTarget(),
    optimisationOptions: {
      optimiseInternals: true, // Removes any unused internal function
      optimiseBuiltIns: true // Removes any unused built-in function
    }
  }
);
</code></pre>
											</article>
											<article>
												<h2>Kipper CLI Parameters</h2>
												<p>Parameters for the Kipper Compiler CLI in the console.</p>
												<table>
													<thead>
														<tr>
															<th>Flags</th>
															<th>Description</th>
														</tr>
													</thead>
													<tbody>
														<tr>
															<td>-b, --[no-]optimise-builtins<br /></td>
															<td>
																If set to true, the built-in functions of the compiled code will be optimised using
																tree-shaking reducing the size of the output.
															</td>
														</tr>
														<tr>
															<td>-e, --encoding=encoding</td>
															<td>
																The encoding that should be used to read the file (ascii,utf8,utf16le). Defaults to
																<code>utf8</code>.
															</td>
														</tr>
														<tr>
															<td>-i, --[no-]optimise-internals</td>
															<td>
																If set to true, the internal functions of the compiled code will be optimised using
																tree-shaking reducing the size of the output.
															</td>
														</tr>
														<tr>
															<td>-o, --output-dir=output-dir</td>
															<td>
																The build directory where the compiled files should be placed. If the path does not
																exist, it will be created. Defaults to
																<code>build</code>.<br />
															</td>
														</tr>
														<tr>
															<td>-s, --string-code=string-code<br /></td>
															<td>
																The content of a Kipper file that can be passed as a replacement for the 'file'
																parameter.<br />
															</td>
														</tr>
													</tbody>
												</table>
												<h3>Example CLI Command</h3>
												<pre><code class="language-typescript">kipper compile -s 'call print("Hello world!");' -e utf16le -i -b</code></pre>
											</article>
										</div>
									</article>
									<script type="module" src="../js/gen-docs-nav-specifier.ts"></script>
								</section>
							</div>
						</li>
					</ul>
				</div>
				<!-- Footer bar - contains some links and general copyright notice -->
				<footer id="footer-bar" class="flex-parent-container flex-column"></footer>
				<script type="module" src="../js/gen-footer.ts"></script>
			</div>
		</div>

		<!-- Overlay for Displaying the Search Results-->
		<div id="search-background-overlay"></div>
		<div id="search-result-overlay">
			<div class="flex-column flex-parent-container" id="search-result"></div>
		</div>
		<script type="module" src="../js/search.ts"></script>
	</body>
</html>
